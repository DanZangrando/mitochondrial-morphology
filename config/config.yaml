# Configuration file for Mitochondrial Morphology Analysis

# Data paths
data:
  raw_data_path: "data/data.csv"
  
# Feature columns for analysis
features:
  numerical:
    - "N mitocondrias"
    - "SUMA IsoVol"
    - "PROM IsoVol"
    - "SUMA Surface"
    - "PROM Surface"
    - "SUMA Length"
    - "PROM Length"
    - "SUMA RoughSph"
    - "PROM RoughSph"
  
  categorical:
    - "Group"
    - "Sex"
  
  metadata:
    - "Participant"
    - "Age"

# PCA configuration
pca:
  n_components: 3
  standardize: true

# VAE (Variational Autoencoder) configuration
autoencoder:
  architecture:
    input_dim: 8  # Number of numerical features (excluding metadata)
    encoder_layers: [64, 32]  # Deeper encoder for VAE
    latent_dim: 8  # Latent space dimension (increased for better representation)
    decoder_layers: [32, 64]  # Symmetric decoder
    classifier_layers: [16]  # Classification head
    num_classes: 2  # CT vs ELA
  
  training:
    batch_size: 16  # Smaller batch for participant-level aggregation
    max_epochs: 200  # More epochs for VAE convergence
    learning_rate: 0.0005  # Lower LR for stable VAE training
    early_stopping_patience: 20  # More patience for VAE
    kl_weight: 0.001  # Weight for KL divergence loss
    classification_weight: 1.0  # Weight for classification loss
    dropout_rate: 0.2  # Dropout for regularization
    use_participant_aggregation: true  # Aggregate measurements by participant
    aggregation_method: "mean"  # How to aggregate (mean, median, max)
    
  logging:
    log_dir: "logs/"
    experiment_name: "vae_classifier"

# Visualization
visualization:
  color_by_default: "Group"
  figure_size: [10, 8]
  style: "whitegrid"
